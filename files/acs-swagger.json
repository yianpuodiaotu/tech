{"swagger":"2.0","info":{"description":"Access Control Services (ACS). ","version":"v1","title":"Access Control","license":{"name":"Apache 2.0","url":"https://github.com/predix/acs/blob/develop/LICENSE"}},"host":"localhost:8181","basePath":"/","tags":[{"name":"policy-management-controller","description":"Policy Management Controller"},{"name":"attribute-connector-controller","description":"Attribute Connector Controller"},{"name":"policy-evaluation-controller","description":"Policy Evaluation Controller"},{"name":"subject-privilege-management-controller","description":"Subject Privilege Management Controller"},{"name":"acs-monitoring-controller","description":"Acs Monitoring Controller"},{"name":"resource-privilege-management-controller","description":"Resource Privilege Management Controller"}],"paths":{"/monitoring/heartbeat":{"get":{"tags":["Monitoring"],"summary":"Monitoring API that allows to check the ACS heartbeat","operationId":"getHeartBeatUsingGET_1","consumes":["application/json"],"produces":["text/plain"],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/connector/resource":{"get":{"tags":["Attribute Connector Management"],"summary":"Retrieves connector configuration for external resource attributes for the given zone.","operationId":"getResourceConnectorUsingGET","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AttributeConnector"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Connector configuration for the given zone is not found."}}},"put":{"tags":["Attribute Connector Management"],"summary":"Creates or updates connector configuration for external resource attributes for the given zone.","operationId":"putResourceConnectorUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"connector","description":"New or updated connector configuration for external resource attributes","required":true,"schema":{"$ref":"#/definitions/AttributeConnector"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Connector configuration for the given zone is successfully created.","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Attribute Connector Management"],"summary":"Deletes connector configuration for external resource attributes for the given zone.","operationId":"deleteResourceConnectorUsingDELETE","consumes":["application/json"],"produces":["*/*"],"responses":{"401":{"description":"Unauthorized"},"204":{"description":"Connector configuration for the given zone is successfully deleted."},"403":{"description":"Forbidden"},"404":{"description":"Connector configuration for the given zone is not found."}}}},"/v1/connector/subject":{"get":{"tags":["Attribute Connector Management"],"summary":"Retrieves connector configuration for external subject attributes for the given zone.","operationId":"getSubjectConnectorUsingGET","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AttributeConnector"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Connector configuration for the given zone is not found."}}},"put":{"tags":["Attribute Connector Management"],"summary":"Creates or updates connector configuration for external subject attributes for the given zone.","operationId":"putSubjectConnectorUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"connector","description":"New or updated connector configuration for external subject attributes","required":true,"schema":{"$ref":"#/definitions/AttributeConnector"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Connector configuration for the given zone is successfully created.","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Attribute Connector Management"],"summary":"Deletes connector configuration for external subject attributes for the given zone.","operationId":"deleteSubjectConnectorUsingDELETE","consumes":["application/json"],"produces":["*/*"],"responses":{"401":{"description":"Unauthorized"},"204":{"description":"Connector configuration for the given zone is successfully deleted."},"403":{"description":"Forbidden"},"404":{"description":"Connector configuration for the given zone is not found."}}}},"/v1/policy-evaluation":{"post":{"tags":["Policy Evaluation"],"summary":"Evaluates all applicable policies and returns decision result","operationId":"evalPolicyV1UsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"request","description":"request","required":true,"schema":{"$ref":"#/definitions/PolicyEvaluationRequestV1"}}],"responses":{"200":{"description":"Policy evaluation was sucessful","schema":{"$ref":"#/definitions/PolicyEvaluationResult"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/policy-set":{"get":{"tags":["Policy Set Management"],"summary":"Returns all the policy sets for the given zone.","operationId":"getAllPolicySetsUsingGET","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/PolicySet"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/policy-set/{policySetId}":{"get":{"tags":["Policy Set Management"],"summary":"Retrieves a policy set for the given zone.","operationId":"getPolicySetUsingGET_1","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"policySetId","in":"path","description":"policySetId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/PolicySet"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["Policy Set Management"],"summary":"Creates/Updates a policy set for the given zone.","operationId":"createPolicySetUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"policySet","description":"policySet","required":true,"schema":{"$ref":"#/definitions/PolicySet"}},{"name":"policySetId","in":"path","description":"policySetId","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Policy set creation successful. Policy set URI is returned in 'Location' header.","schema":{"type":"string"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Policy Set Management"],"summary":"Deletes a policy set for the given zone.","operationId":"deletePolicySetUsingDELETE_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"policySetId","in":"path","description":"policySetId","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/resource":{"get":{"tags":["Attribute Management"],"summary":"Retrieves the list of all resources for the given zone.","operationId":"getResourcesUsingGET_1","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/BaseResource"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["Attribute Management"],"summary":"Creates a list of resources for the given zone. Existing resources will be updated with the provided values.","operationId":"appendResourcesUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"resources","description":"resources","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/BaseResource"}}}],"responses":{"200":{"description":"OK"},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"204":{"description":"Resource objects appended successfully."},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/resource/{resourceIdentifier}":{"get":{"tags":["Attribute Management"],"summary":"Retrieves the resource for the given zone. The resourceIdentifier must be URL encoded in application/x-www-form-urlencoded format with UTF-8.","operationId":"getResourceV1UsingGET_1","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"resourceIdentifier","in":"path","description":"resourceIdentifier","required":true,"type":"string"},{"name":"includeInheritedAttributes","in":"query","description":"includeInheritedAttributes","required":false,"type":"boolean","default":false}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResource"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["Attribute Management"],"summary":"Creates/Updates a given resource for a given zone. The resourceIdentifier must be URL encoded in application/x-www-form-urlencoded format with UTF-8.","operationId":"putResourceV1UsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"resource","description":"resource","required":true,"schema":{"$ref":"#/definitions/BaseResource"}},{"name":"resourceIdentifier","in":"path","description":"resourceIdentifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseResource"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Attribute Management"],"summary":"Deletes the resource for a given zone. The resourceIdentifier must be URL encoded in application/x-www-form-urlencoded format with UTF-8.","operationId":"deleteResourceV1UsingDELETE","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"resourceIdentifier","in":"path","description":"resourceIdentifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/subject":{"get":{"tags":["Attribute Management"],"summary":"Retrieves the list of subjects for the given zone.","operationId":"getSubjectsUsingGET","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/BaseSubject"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["Attribute Management"],"summary":"Creates a list of subjects. Existing subjects will be updated with the provided values.","operationId":"appendsubjectsUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"subjects","description":"subjects","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/BaseSubject"}}}],"responses":{"200":{"description":"OK"},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"204":{"description":"Subject objects added successfully."},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/subject/{subjectIdentifier}":{"get":{"tags":["Attribute Management"],"summary":"Retrieves the subject for the given zone. The subjectIdentifier must be URL encoded in application/x-www-form-urlencoded format with UTF-8.","operationId":"getSubjectUsingGET_1","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"subjectIdentifier","in":"path","description":"subjectIdentifier","required":true,"type":"string"},{"name":"includeInheritedAttributes","in":"query","description":"includeInheritedAttributes","required":false,"type":"boolean","default":false}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseSubject"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["Attribute Management"],"summary":"Creates/Updates a given Subject.","operationId":"putSubjectUsingPUT_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"subject","description":"subject","required":true,"schema":{"$ref":"#/definitions/BaseSubject"}},{"name":"subjectIdentifier","in":"path","description":"subjectIdentifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/BaseSubject"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["Attribute Management"],"summary":"Deletes the subject for a given zone. The subjectIdentifier must be URL encoded in application/x-www-form-urlencoded format with UTF-8.","operationId":"deleteSubjectUsingDELETE_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"subjectIdentifier","in":"path","description":"subjectIdentifier","required":true,"type":"string"}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}}},"definitions":{"Policy":{"type":"object","required":["conditions","effect","target"],"properties":{"conditions":{"type":"array","items":{"$ref":"#/definitions/Condition"}},"effect":{"type":"string","enum":["PERMIT","DENY","NOT_APPLICABLE","INDETERMINATE"]},"name":{"type":"string"},"target":{"$ref":"#/definitions/Target"}},"description":"An access control policy."},"Condition":{"type":"object","required":["condition"],"properties":{"condition":{"type":"string"},"name":{"type":"string"}},"description":"A boolean groovy expression which determines whether the policy effect applies to the access control request."},"The resource the access control operation would read, create, delete, or modify. Typically used within a policy definition":{"type":"object","properties":{"attributeUriTemplate":{"type":"string"},"attributes":{"type":"array","items":{"$ref":"#/definitions/Attribute"}},"name":{"type":"string"},"uriTemplate":{"type":"string"}}},"Attribute":{"type":"object","required":["issuer","name","value"],"properties":{"issuer":{"type":"string","description":"The entity vouching for this attribute."},"name":{"type":"string","description":"The unique name of this attribute."},"value":{"type":"string","description":"The value of this attribute. Optional when used in context of a Policy Target."}},"description":"Attribute represents a characteristic of a subject or resource in context of a resource request. The attribute values are evaluated against any attributes declared in a access control policy during policy evaluation. For example, a subject may be assigned a 'group'attribute which would be matched against any 'group' attribute conditions in a policy."},"Parent":{"type":"object","required":["identifier","scopes"],"properties":{"identifier":{"type":"string","description":"The unique identifier of the parent, e.g. \"tom@ge.com\" or \"/site/sanramon\"."},"scopes":{"type":"array","description":"Restrictions on when a subject inherits parent attributes based on the resource accessed, i.e. a subject may only inherit the attributes from a parent subject if the user accesses a resource with specific attributes. e.g. \"tom@ge.com\" inherits attributes from the \"analysts\" group only when accessing resources where the \"site\" is \"sanramon\".","items":{"$ref":"#/definitions/Attribute"}}},"description":"Represents a source of inherited attributes."},"BaseResource":{"type":"object","required":["attributes","resourceIdentifier"],"properties":{"attributes":{"type":"array","description":"The list of attribute values being assigned","items":{"$ref":"#/definitions/Attribute"}},"parents":{"type":"array","description":"A set that identifies resources whose attributes also apply to this resource during policy evaluation.","items":{"$ref":"#/definitions/Parent"}},"resourceIdentifier":{"type":"string","description":"The unique resource identifier, ex: \"/asset\"/sanramon"}},"description":"Represents a managed protected resource for V1."},"PolicyEvaluationRequestV1":{"type":"object","required":["action","resourceIdentifier","subjectIdentifier"],"properties":{"action":{"type":"string","description":"The action on the given resource URI"},"policySetsEvaluationOrder":{"type":"array","description":"This list of policy set IDs specifies the order in which the service will evaluate policies. Evaluation stops when a policy with matching target is found and the condition returns true, Or all policies are exhausted.","items":{"type":"string"}},"resourceAttributes":{"type":"array","description":"Supplemental resource attributes provided by the requestor","items":{"$ref":"#/definitions/Attribute"}},"resourceIdentifier":{"type":"string","description":"The resource URI to be consumed"},"subjectAttributes":{"type":"array","description":"Supplemental subject attributes provided by the requestor","items":{"$ref":"#/definitions/Attribute"}},"subjectIdentifier":{"type":"string","description":"The subject identifier"}},"description":"Policy evaluation request for V1."},"PolicySet":{"type":"object","required":["policies"],"properties":{"name":{"type":"string","description":"User defined name for the Policy set"},"policies":{"type":"array","description":"A non empty list of Policies that define the Policy set","items":{"$ref":"#/definitions/Policy"}}},"description":"A collection of access control policies evaluated in order. The first applicable policy determines the access control effect."},"Target":{"type":"object","properties":{"action":{"type":"string","description":"String containing one or more comma separated HTTP verbs, ex: \"GET\" or \"GET, POST\". If not specified it will match \"GET, POST, PUT, DELETE, PATCH\" "},"name":{"type":"string"},"resource":{"$ref":"#/definitions/The resource the access control operation would read, create, delete, or modify. Typically used within a policy definition"},"subject":{"$ref":"#/definitions/SubjectType"}},"description":"Determines whether a policy applies to an access control request."},"SubjectType":{"type":"object","required":["name"],"properties":{"attributes":{"type":"array","items":{"$ref":"#/definitions/Attribute"}},"name":{"type":"string"}},"description":"The entity performing the access controlled operation."},"AttributeAdapterConnection":{"type":"object","required":["adapterEndpoint","uaaClientId","uaaClientSecret","uaaTokenUrl"],"properties":{"adapterEndpoint":{"type":"string","description":"Adapter URL to retrieve attributes from"},"uaaClientId":{"type":"string","description":"OAuth client used to obtain an access token for this adapter"},"uaaClientSecret":{"type":"string","description":"OAuth client secret used to obtain an access token for this adapter"},"uaaTokenUrl":{"type":"string","description":"UAA URL to request an access token for this adapter"}},"description":"Connection configuration for an adapter to retrieve external resource or subject attributes."},"AttributeConnector":{"type":"object","required":["adapters"],"properties":{"adapters":{"type":"array","description":"A set of adapters used to retrieve attributes from. Only one adapter is currently supported","items":{"$ref":"#/definitions/AttributeAdapterConnection"}},"isActive":{"type":"boolean","example":false,"description":"A flag to enable or disable the retrieval of remote attributes. Disabled by default."},"maxCachedIntervalMinutes":{"type":"integer","format":"int32","description":"Maximum time in minutes before remote attributes are refreshed. Set to 480 minutes by default"}},"description":"Connector configuration for external resource or subject attributes."},"PolicyEvaluationResult":{"type":"object","required":["effect"],"properties":{"effect":{"type":"string","description":"The effect of the policy evaluation","enum":["PERMIT","DENY","NOT_APPLICABLE","INDETERMINATE"]},"message":{"type":"string"},"resolvedResourceUris":{"type":"array","description":"The resources that matched the policy evaluation request's resource identifier based on the attribute uri templates defined in the policy set. For example, a policy request of    /v1/site/1/plant/asset/1\nagainst a policy set with attribute uri templates:\n    /v1{attribute_uri}/plant/asset/{asset_id}\n    /v1/site/{site_id}/plant/asset/{asset_id}\nwould include:\n    /site/1\n    /asset/2\nin this set.","items":{"type":"string"}},"resourceAttributes":{"type":"array","description":"The collection of the resource's attributes","items":{"$ref":"#/definitions/Attribute"}},"subjectAttributes":{"type":"array","description":"The collection of the subject's attributes","items":{"$ref":"#/definitions/Attribute"}},"timestamp":{"type":"integer","format":"int64"}},"description":"Policy evaluation result"},"BaseSubject":{"type":"object","required":["attributes","subjectIdentifier"],"properties":{"attributes":{"type":"array","description":"The list of attribute values being assigned","items":{"$ref":"#/definitions/Attribute"}},"parents":{"type":"array","description":"A set that identifies subjects whose attributes also apply to this subject duringpolicy evaluation.","items":{"$ref":"#/definitions/Parent"}},"subjectIdentifier":{"type":"string","description":"The unique subject identifier, ex: \"joe@ge.com\""}},"description":"Represents a managed protected subject for V1."}}}