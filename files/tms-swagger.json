{"swagger":"2.0","info":{"description":"Tenant manager Services (TMS). ","version":"v1","title":"Tenant Manager","license":{"name":"Apache 2.0"}},"host":"localhost:8080","basePath":"/","tags":[{"name":"client-credentials-controller","description":"Client Credentials Controller"},{"name":"tenant-manager-controller","description":"Tenant Manager Controller"},{"name":"service-controller","description":"Service Controller"},{"name":"basic-error-controller","description":"Basic Error Controller"}],"paths":{"/V1/client-credentials":{"get":{"tags":["client-credentials-controller"],"summary":"Get tenant credentials.","operationId":"getTenantCedentialsUsingGET","consumes":["application/json"],"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantCredentialResponseList"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"post":{"tags":["client-credentials-controller"],"summary":"Creates the clientCredentials.","operationId":"createTenantCedentialUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"tenantCedential","description":"tenantCedential","required":true,"schema":{"$ref":"#/definitions/TenantCedential"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantSecretsStatusResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["client-credentials-controller"],"summary":"Updates the clientCredentials.","operationId":"updateTenantCedentialUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"tenantCedential","description":"tenantCedential","required":true,"schema":{"$ref":"#/definitions/TenantCedential"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantCredentialsResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/V1/tenant":{"post":{"tags":["tenant-manager-controller"],"summary":"Creates the tenant.","operationId":"createTenantUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"tenant","description":"tenant","required":true,"schema":{"$ref":"#/definitions/TenantProvisioning"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["tenant-manager-controller"],"summary":"Updates the tenant.","operationId":"updateTenantUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"tenant","description":"tenant","required":true,"schema":{"$ref":"#/definitions/TenantProvisioning"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/V1/tenant/{tenantName}":{"get":{"tags":["tenant-manager-controller"],"summary":"Get a tenant info.","operationId":"getTenantUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"tenantName","in":"path","description":"tenantName","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/TenantProvisioningResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/error":{"get":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingGET","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"head":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingHEAD","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}},"post":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPOST","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPUT","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingDELETE","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}},"options":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingOPTIONS","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}},"patch":{"tags":["basic-error-controller"],"summary":"errorHtml","operationId":"errorHtmlUsingPATCH","consumes":["application/json"],"produces":["text/html"],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ModelAndView"}},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/v1/tenant/{tenantName}/service/{instanceName}":{"post":{"tags":["service-controller"],"summary":"Creates the service.","operationId":"createServiceUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"clientId","in":"path","description":"clientId","required":true,"type":"string"},{"name":"instanceName","in":"path","description":"instanceName","required":true,"type":"string"},{"in":"body","name":"service","description":"service","required":true,"schema":{"$ref":"#/definitions/Service"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ServiceResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"put":{"tags":["service-controller"],"summary":"Updates the service.","operationId":"updateServiceUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"clientId","in":"path","description":"clientId","required":true,"type":"string"},{"name":"instanceName","in":"path","description":"instanceName","required":true,"type":"string"},{"in":"body","name":"service","description":"service","required":true,"schema":{"$ref":"#/definitions/Service"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ServiceResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/v1/tenant/{tenantName}/service/{instanceName}/credentials":{"get":{"tags":["service-controller"],"summary":"Get service.","operationId":"getServiceUsingGET","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"clientId","in":"path","description":"clientId","required":true,"type":"string"},{"name":"instanceName","in":"path","description":"instanceName","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ServiceResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"ServiceStatusResponse":{"type":"object","properties":{"serviceInstanceName":{"type":"string"},"serviceName":{"type":"string"},"status":{"type":"string"}}},"TenantSecretsStatusResponse":{"type":"object","properties":{"statusMessage":{"type":"string"}}},"Zone":{"type":"object","properties":{"httpHeaderName":{"type":"string"},"httpHeaderValue":{"type":"string"},"oauthScope":{"type":"array","items":{"type":"string"}}}},"ModelAndView":{"type":"object","properties":{"empty":{"type":"boolean"},"model":{"type":"object"},"modelMap":{"type":"object","additionalProperties":{"type":"object"}},"reference":{"type":"boolean"},"status":{"type":"string","enum":["100","101","102","103","200","201","202","203","204","205","206","207","208","226","300","301","302","303","304","305","307","308","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","426","428","429","431","451","500","501","502","503","504","505","506","507","508","509","510","511"]},"view":{"$ref":"#/definitions/View"},"viewName":{"type":"string"}}},"TenantProvisioningResponse":{"type":"object","properties":{"name":{"type":"string"},"services":{"type":"array","items":{"$ref":"#/definitions/ServiceResponse"}},"status":{"type":"string","enum":["INITIALIZED","PROCESSING","SERVICE_PLAN_UNRESOLVED","FAILED","PROVISIONED","TENANT_ALREADY_EXISTS","TENANT_NOT_FOUND","ROLLBACK","INVALID_DATA","MISSING_PREDIX_ZONE_ID","INVALID_PREDIX_ZONE_ID","DB_INSERT_FAILED","DUPLICATE_DOMAIN","DELETING","UPDATE_NOT_ALLOWED","UPDATE_PROVISIONED"]},"subdomain":{"type":"string"},"templateName":{"type":"string"},"tenantId":{"type":"string"}}},"TenantCredentialsResponse":{"type":"object","properties":{"clientId":{"type":"string"},"clientSecret":{"type":"string"},"issuer":{"type":"string"},"serviceName":{"type":"string"}}},"Service":{"type":"object","required":["serviceName","servicePlan"],"properties":{"parameters":{"type":"object"},"seq":{"type":"integer","format":"int32"},"serviceInstanceName":{"type":"string"},"serviceName":{"type":"string"},"servicePlan":{"type":"string"},"trustedIssuerIds":{"type":"array","items":{"type":"string"}}},"description":"Request for creating a service instance"},"ServiceInstance":{"type":"object","required":["serviceInstanceName"],"properties":{"serviceInstanceName":{"type":"string"},"serviceName":{"type":"string"}},"description":"Request for binding to an existing service instance"},"TenantUaa":{"type":"object","properties":{"tenantUaaList":{"type":"array","items":{"type":"string"}}}},"View":{"type":"object","properties":{"contentType":{"type":"string"}}},"TenantCredentialResponseList":{"type":"object","properties":{"responses":{"type":"array","items":{"$ref":"#/definitions/TenantCredentialsResponse"}}}},"ResponseEntity":{"type":"object","properties":{"body":{"type":"object"},"statusCode":{"type":"string","enum":["100","101","102","103","200","201","202","203","204","205","206","207","208","226","300","301","302","303","304","305","307","308","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","426","428","429","431","451","500","501","502","503","504","505","506","507","508","509","510","511"]},"statusCodeValue":{"type":"integer","format":"int32"}}},"ServiceResponse":{"type":"object","properties":{"credentials":{"type":"object"},"description":{"type":"string"},"scopes":{"type":"string"},"serviceInstanceId":{"type":"string"},"serviceInstanceName":{"type":"string"},"serviceName":{"type":"string"},"status":{"type":"string","enum":["INITIALIZED","SERVICE_PLAN_UNRESOLVED","PROCESSING","FAILED","PROVISIONED","ROLLBACK","DELETING","NOT_FOUND","INVALID","DELETED","DELETE_FAILED"]},"statusMessage":{"type":"string"},"stdCredentials":{"type":"array","items":{"$ref":"#/definitions/ServiceCredential"}}}},"TemplateData":{"type":"object","properties":{"serviceInstances":{"type":"array","items":{"$ref":"#/definitions/ServiceInstance"}},"services":{"type":"array","items":{"$ref":"#/definitions/Service"}},"type":{"type":"string"}}},"TenantCedential":{"type":"object","required":["authorizedClientId","clientId","clientSecret","issuer","serviceName"],"properties":{"authorizedClientId":{"type":"string"},"clientId":{"type":"string"},"clientSecret":{"type":"string"},"issuer":{"type":"string"},"serviceName":{"type":"string"}},"description":"Request for creating Tenant Credentials"},"TenantProvisioning":{"type":"object","required":["name"],"properties":{"credentialStorageProvider":{"type":"string"},"name":{"type":"string"},"subdomain":{"type":"string"},"templateData":{"$ref":"#/definitions/TemplateData"},"templateName":{"type":"string"},"tenantUaa":{"$ref":"#/definitions/TenantUaa"}},"description":"Request for creating a Tenant"},"ServiceCredential":{"type":"object","properties":{"name":{"type":"string"},"parameters":{"type":"object"},"uri":{"type":"string"},"zone":{"$ref":"#/definitions/Zone"}}},"TenantResponse":{"type":"object","properties":{"appTemplate":{"type":"string"},"name":{"type":"string"},"status":{"type":"string"},"tenantId":{"type":"string"}}}}}